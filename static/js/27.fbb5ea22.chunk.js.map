{"version":3,"file":"static/js/27.fbb5ea22.chunk.js","mappings":"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","sources":["pages/PostDetails.jsx","services/api.js"],"sourcesContent":["import React, { Suspense, lazy, useEffect, useRef } from 'react';\nimport { ThreeCircles } from 'react-loader-spinner';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  NavLink,\n  useParams,\n  Routes,\n  Route,\n  useLocation,\n  Link,\n} from 'react-router-dom';\nimport { toast } from 'react-toastify';\nimport {\n  decrementCountValue,\n  incrementCountValue,\n  setError,\n  setIsLoading,\n  setPostDetails,\n} from '../redux/postDetailsReducer';\nimport { fetchDetails } from 'services/api';\n\nconst CommentsPostPage = lazy(() => import('pages/CommentsPostPage'));\n\nconst toastConfig = {\n  position: 'top-right',\n  autoClose: 5000,\n  hideProgressBar: false,\n  closeOnClick: true,\n  pauseOnHover: true,\n  draggable: true,\n  progress: undefined,\n  theme: 'dark',\n};\n\nconst PostDetails = () => {\n  // const [postDetails, setPostDetails] = useState(null);\n  // const [isLoading, setIsLoading] = useState(false);\n  // const [error, setError] = useState(null);\n  const postDetails = useSelector(state => state.postDetails.postDetails);\n  const isLoading = useSelector(state => state.postDetails.isLoading);\n  const error = useSelector(state => state.postDetails.error);\n  const countValue = useSelector(state => state.postDetails.countValue);\n  const dispatch = useDispatch();\n\n  const { postId } = useParams();\n  const location = useLocation();\n  const backLinkHref = useRef(location.state?.from ?? '/');\n\n  useEffect(() => {\n    if (!postId) return;\n\n    const fetchPostData = async () => {\n      try {\n        dispatch(setIsLoading(true));\n\n        const postData = await fetchDetails(postId);\n        dispatch(setPostDetails(postData));\n\n        toast.success('Post details were successfully fetched!', toastConfig);\n      } catch (error) {\n        dispatch(setError(error.message));\n\n        toast.error(error.message, toastConfig);\n      } finally {\n        dispatch(setIsLoading(false));\n      }\n    };\n    fetchPostData();\n  }, [postId, dispatch]);\n\n  return (\n    <div>\n      <h1>Post Details</h1>\n      <div className=\"count\">{countValue}</div>\n      <button\n        className=\"button-plus\"\n        onClick={() => dispatch(incrementCountValue())}\n      >\n        +\n      </button>\n      <button\n        className=\"button-plus\"\n        onClick={() => dispatch(decrementCountValue())}\n      >\n        -\n      </button>\n      <Link to={backLinkHref.current}>Go back</Link>\n      {error !== null && <p className=\"c-error\"> Oops, error.</p>}\n      {isLoading && (\n        <ThreeCircles\n          visible={true}\n          height=\"100\"\n          width=\"100\"\n          color=\"#04e4f9\"\n          ariaLabel=\"three-circles-loading\"\n          wrapperStyle={{}}\n          wrapperClass=\"\"\n        />\n      )}\n\n      {postDetails !== null && (\n        <div className=\"post-details\">\n          <h2 className=\"post_details-title\">Title: {postDetails.title} </h2>\n          <p className=\"post_details-id\">ID: {postDetails.id} </p>\n          <p className=\"post_details-body\"> {postDetails.body} </p>\n          <div>\n            <NavLink to=\"comments\">Comments</NavLink>\n          </div>\n        </div>\n      )}\n      <Suspense\n        fallback={\n          <ThreeCircles\n            visible={true}\n            height=\"100\"\n            width=\"100\"\n            color=\"#04e4f9\"\n            ariaLabel=\"three-circles-loading\"\n            wrapperStyle={{}}\n            wrapperClass=\"\"\n          />\n        }\n      >\n        <Routes>\n          <Route path=\"comments\" element={<CommentsPostPage />} />\n        </Routes>\n      </Suspense>\n    </div>\n  );\n};\n\nexport default PostDetails;\n","import axios from 'axios';\n\nconst JSON_PLACEHOLDER_BASE_URL = 'https://jsonplaceholder.typicode.com';\n\nexport const fetchPosts = async () => {\n  const { data } = await axios.get(`${JSON_PLACEHOLDER_BASE_URL}/posts`);\n  return data;\n};\n\nexport const fetchDetails = async postId => {\n  const { data } = await axios.get(\n    `${JSON_PLACEHOLDER_BASE_URL}/posts/${postId}`\n  );\n  return data;\n};\n\nexport const fetchComments = async postId => {\n  const { data } = await axios.get(\n    `${JSON_PLACEHOLDER_BASE_URL}/posts/${postId}/comments`\n  );\n  return data;\n};\n"],"names":["CommentsPostPage","lazy","toastConfig","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","_location$state$from","_location$state","postDetails","useSelector","state","isLoading","error","countValue","dispatch","useDispatch","postId","useParams","location","useLocation","backLinkHref","useRef","from","useEffect","fetchPostData","_ref","_asyncToGenerator","_regeneratorRuntime","_callee","postData","_context","prev","next","setIsLoading","fetchDetails","sent","setPostDetails","toast","t0","setError","message","finish","stop","apply","arguments","_jsxs","children","_jsx","className","onClick","incrementCountValue","decrementCountValue","Link","to","current","ThreeCircles","visible","height","width","color","ariaLabel","wrapperStyle","wrapperClass","title","id","body","NavLink","Suspense","fallback","Routes","Route","path","element","JSON_PLACEHOLDER_BASE_URL","fetchPosts","_yield$axios$get","data","axios","concat","abrupt","_ref2","_callee2","_yield$axios$get2","_context2","_x","fetchComments","_ref3","_callee3","_yield$axios$get3","_context3","_x2"],"sourceRoot":""}